# -*- coding: utf-8 -*-
# vim: ft=yaml
---
ssf_node_anchors:
  defaults:
    file: &file_default
      mode: 644
      template: ''
    formula:
      context:
        inspec_suites_kitchen:
          0:
            includes: &includes_NONE
              - []
            inspec_yml:
              depends_on_suite_share: &depends_on_suite_share
                - name: 'share'
                  path: 'test/integration/share'
              supports_debian_ubuntu: &supports_debian_ubuntu
                - debian
                - ubuntu
              supports_debian_ubuntu_centos: &supports_debian_ubuntu_centos
                - debian
                - ubuntu
                - centos
              supports_debian_ubuntu_centos_arch: &supports_debian_ubuntu_centos_arch
                - debian
                - ubuntu
                - centos
                - arch
              # yamllint disable-line rule:line-length
              supports_debian_ubuntu_centos_fedora_opensuse: &supports_debian_ubuntu_centos_fedora_opensuse
                - debian
                - ubuntu
                - centos
                - fedora
                - opensuse
              supports_centos_fedora_amazon: &supports_centos_fedora_amazon
                - centos
                - fedora
                - amazon
              supports_all_except_amazon: &supports_all_except_amazon
                - debian
                - ubuntu
                - centos
                - fedora
                - opensuse
                - suse
                - freebsd
                - arch
              supports_all_including_oracle: &supports_all_including_oracle
                - debian
                - ubuntu
                - centos
                - fedora
                - opensuse
                - suse
                - freebsd
                - amazon
                - oracle
                - arch
              # yamllint disable-line rule:line-length
              supports_all_including_oracle_and_gentoo: &supports_all_including_oracle_and_gentoo
                - debian
                - ubuntu
                - centos
                - fedora
                - opensuse
                - suse
                - freebsd
                - amazon
                - oracle
                - arch
                - gentoo
              # yamllint disable-line rule:line-length
              supports_all_including_oracle_gentoo_and_windows: &supports_all_including_oracle_gentoo_and_windows
                - debian
                - ubuntu
                - centos
                - fedora
                - opensuse
                - suse
                - freebsd
                - amazon
                - oracle
                - arch
                - gentoo
                - windows
            provisioner:
              dependencies_epel: &dependencies_epel
                - name: 'epel'
                  repo: 'git'
                  source: 'https://github.com/saltstack-formulas/epel-formula.git'
              # dependencies_files: &dependencies_files
              #   - name: 'files'
              #     path: './test/salt'
              dependencies_states: &dependencies_states
                - name: 'states'
                  path: './test/salt'
              dependencies_files_and_states: &dependencies_files_and_states
                - name: 'files'
                  path: './test/salt'
                - name: 'states'
                  path: './test/salt'
              state_top_salt: &state_top_salt
                - '*':
                    - ._mapdata
                    - .pkgrepo
                    - .master
                    - .minion
            verifier: &verifier_inspec_tests_default
              inspec_tests:
                - default
          1: &inspec_suites_kitchen__share_suite
            includes: *includes_NONE
            inspec_yml:
              summary: >-
                shared resources
              supports: *supports_all_including_oracle_gentoo_and_windows
              title: 'InSpec shared resources'

        # Use this to start adopting the "unified" platforms based on `saltimages`.
        # This will include `tiamat` and will be updated for `3002` once available.
        # However, `master` images will be used in place of `tiamat`, until they
        # become viable.
        platforms_new_saltimages: &platforms_new_saltimages
          ### `tiamat-py3`
          - [debian       ,   10   ,   tiamat,      3]  # debi-10.0-tiamat-py3
          - [debian       ,    9   ,   tiamat,      3]  # debi-09.0-tiamat-py3
          - [ubuntu       ,   20.04,   tiamat,      3]  # ubun-20.0-tiamat-py3
          - [ubuntu       ,   18.04,   tiamat,      3]  # ubun-18.0-tiamat-py3
          - [ubuntu       ,   16.04,   tiamat,      3]  # ubun-16.0-tiamat-py3
          - [centos       ,    8   ,   tiamat,      3]  # cent-08.0-tiamat-py3
          - [centos       ,    7   ,   tiamat,      3]  # cent-07.0-tiamat-py3
          # # Not available at the current time
          # - [fedora       ,   33   ,   tiamat,      3]  # fedo-33.0-tiamat-py3
          # - [fedora       ,   32   ,   tiamat,      3]  # fedo-32.0-tiamat-py3
          # - [opensuse/leap,   15.2 ,   tiamat,      3]  # opsu-15.2-tiamat-py3
          # - [opensuse/tmbl,  latest,   tiamat,      3]  # opsu-tmbl-tiamat-py3
          - [amazonlinux  ,    2   ,   tiamat,      3]  # amaz-02.0-tiamat-py3
          - [oraclelinux  ,    8   ,   tiamat,      3]  # orac-08.0-tiamat-py3
          - [oraclelinux  ,    7   ,   tiamat,      3]  # orac-07.0-tiamat-py3

          ### `master-py3`
          - [debian       ,   10   ,   master,      3]  # debi-10.0-master-py3
          - [debian       ,    9   ,   master,      3]  # debi-09.0-master-py3
          - [ubuntu       ,   20.04,   master,      3]  # ubun-20.0-master-py3
          - [ubuntu       ,   18.04,   master,      3]  # ubun-18.0-master-py3
          - [ubuntu       ,   16.04,   master,      3]  # ubun-16.0-master-py3
          - [centos       ,    8   ,   master,      3]  # cent-08.0-master-py3
          - [centos       ,    7   ,   master,      3]  # cent-07.0-master-py3
          - [fedora       ,   33   ,   master,      3]  # fedo-33.0-master-py3
          - [fedora       ,   32   ,   master,      3]  # fedo-32.0-master-py3
          - [opensuse/leap,   15.2 ,   master,      3]  # opsu-15.2-master-py3
          - [opensuse/tmbl,  latest,   master,      3]  # opsu-tmbl-master-py3
          - [amazonlinux  ,    2   ,   master,      3]  # amaz-02.0-master-py3
          - [oraclelinux  ,    8   ,   master,      3]  # orac-08.0-master-py3
          # # Fails due to dependency issues, probably ignore permanently
          # - [oraclelinux  ,    7   ,   master,      3]  # orac-07.0-master-py3
          - [gentoo/stage3,  latest,   master,      3]  # gent-late-master-py3
          - [gentoo/stage3, systemd,   master,      3]  # gent-sysd-master-py3

          ### `3002.2-py3`
          - [debian       ,   10   ,   3002.2,      3]  # debi-10.0-3002.2-py3
          - [debian       ,    9   ,   3002.2,      3]  # debi-09.0-3002.2-py3
          - [ubuntu       ,   20.04,   3002.2,      3]  # ubun-20.0-3002.2-py3
          - [ubuntu       ,   18.04,   3002.2,      3]  # ubun-18.0-3002.2-py3
          - [ubuntu       ,   16.04,   3002.2,      3]  # ubun-16.0-3002.2-py3
          - [centos       ,    8   ,   3002.2,      3]  # cent-08.0-3002.2-py3
          - [centos       ,    7   ,   3002.2,      3]  # cent-07.0-3002.2-py3
          - [fedora       ,   33   ,   3002.2,      3]  # fedo-33.0-3002.2-py3
          - [fedora       ,   32   ,   3002.2,      3]  # fedo-32.0-3002.2-py3
          - [opensuse/leap,   15.2 ,   3002.2,      3]  # opsu-15.2-3002.2-py3
          - [opensuse/tmbl,  latest,   3002.2,      3]  # opsu-tmbl-3002.2-py3
          - [amazonlinux  ,    2   ,   3002.2,      3]  # amaz-02.0-3002.2-py3
          - [oraclelinux  ,    8   ,   3002.2,      3]  # orac-08.0-3002.2-py3
          - [oraclelinux  ,    7   ,   3002.2,      3]  # orac-07.0-3002.2-py3
          - [arch-base    ,  latest,   3002.2,      3]  # arch-late-3002.2-py3
          - [gentoo/stage3,  latest,   3002.2,      3]  # gent-late-3002.2-py3
          - [gentoo/stage3, systemd,   3002.2,      3]  # gent-sysd-3002.2-py3

          ### `3001.4-py3`
          - [debian       ,   10   ,   3001.4,      3]  # debi-10.0-3001.4-py3
          - [debian       ,    9   ,   3001.4,      3]  # debi-09.0-3001.4-py3
          - [ubuntu       ,   20.04,   3001.4,      3]  # ubun-20.0-3001.4-py3
          - [ubuntu       ,   18.04,   3001.4,      3]  # ubun-18.0-3001.4-py3
          - [ubuntu       ,   16.04,   3001.4,      3]  # ubun-16.0-3001.4-py3
          - [centos       ,    8   ,   3001.4,      3]  # cent-08.0-3001.4-py3
          - [centos       ,    7   ,   3001.4,      3]  # cent-07.0-3001.4-py3
          - [fedora       ,   33   ,   3001.4,      3]  # fedo-33.0-3001.4-py3
          - [fedora       ,   32   ,   3001.4,      3]  # fedo-32.0-3001.4-py3
          - [opensuse/leap,   15.2 ,   3001.4,      3]  # opsu-15.2-3001.4-py3
          - [opensuse/tmbl,  latest,   3001.4,      3]  # opsu-tmbl-3001.4-py3
          - [amazonlinux  ,    2   ,   3001.4,      3]  # amaz-02.0-3001.4-py3
          - [oraclelinux  ,    8   ,   3001.4,      3]  # orac-08.0-3001.4-py3
          - [oraclelinux  ,    7   ,   3001.4,      3]  # orac-07.0-3001.4-py3
          - [arch-base    ,  latest,   3001.4,      3]  # arch-late-3001.4-py3
          - [gentoo/stage3,  latest,   3001.4,      3]  # gent-late-3001.4-py3
          - [gentoo/stage3, systemd,   3001.4,      3]  # gent-sysd-3001.4-py3

          ### `3000.6-py3`
          - [debian       ,   10   ,   3000.6,      3]  # debi-10.0-3000.6-py3
          - [debian       ,    9   ,   3000.6,      3]  # debi-09.0-3000.6-py3
          - [ubuntu       ,   18.04,   3000.6,      3]  # ubun-18.0-3000.6-py3
          - [ubuntu       ,   16.04,   3000.6,      3]  # ubun-16.0-3000.6-py3
          - [centos       ,    8   ,   3000.6,      3]  # cent-08.0-3000.6-py3
          - [centos       ,    7   ,   3000.6,      3]  # cent-07.0-3000.6-py3
          - [opensuse/leap,   15.2 ,   3000.6,      3]  # opsu-15.2-3000.6-py3
          - [amazonlinux  ,    2   ,   3000.6,      3]  # amaz-02.0-3000.6-py3
          - [oraclelinux  ,    8   ,   3000.6,      3]  # orac-08.0-3000.6-py3
          - [oraclelinux  ,    7   ,   3000.6,      3]  # orac-07.0-3000.6-py3
          - [gentoo/stage3,  latest,   3000.6,      3]  # gent-late-3000.6-py3
          - [gentoo/stage3, systemd,   3000.6,      3]  # gent-sysd-3000.6-py3
          ### `3000.6-py2`
          - [ubuntu       ,   18.04,   3000.6,      2]  # ubun-18.0-3000.6-py2
          - [ubuntu       ,   16.04,   3000.6,      2]  # ubun-16.0-3000.6-py2
          - [arch-base    ,  latest,   3000.6,      2]  # arch-late-3000.6-py2

        # Use this to start adopting the latest `platforms` (after Tiamat)
        platforms_new_inc_tiamat: &platforms_new_inc_tiamat
          ### `tiamat-py3`
          - [debian       ,   10   ,   tiamat,      3]
          - [debian       ,    9   ,   tiamat,      3]
          - [ubuntu       ,   20.04,   tiamat,      3]
          - [ubuntu       ,   18.04,   tiamat,      3]
          - [ubuntu       ,   16.04,   tiamat,      3]
          - [centos       ,    8   ,   tiamat,      3]
          - [centos       ,    7   ,   tiamat,      3]
          - [amazonlinux  ,    2   ,   tiamat,      3]
          # - [oraclelinux  ,    8   ,   tiamat,      3]
          # - [oraclelinux  ,    7   ,   tiamat,      3]

          ### `master-py3`
          - [debian       ,   10   ,   master,      3]
          - [ubuntu       ,   20.04,   master,      3]
          - [ubuntu       ,   18.04,   master,      3]
          - [centos       ,    8   ,   master,      3]
          - [fedora       ,   32   ,   master,      3]
          - [fedora       ,   31   ,   master,      3]
          - [opensuse/leap,   15.2 ,   master,      3]
          - [amazonlinux  ,    2   ,   master,      3]
          # - [oraclelinux  ,    8   ,   master,      3]

          ### `3001-py3`
          - [debian       ,   10   ,   3001  ,      3]
          - [debian       ,    9   ,   3001  ,      3]
          - [ubuntu       ,   20.04,   3001  ,      3]
          - [ubuntu       ,   18.04,   3001  ,      3]
          - [centos       ,    8   ,   3001  ,      3]
          - [centos       ,    7   ,   3001  ,      3]
          - [fedora       ,   32   ,   3001  ,      3]
          - [fedora       ,   31   ,   3001  ,      3]
          - [opensuse/leap,   15.2 ,   3001  ,      3]
          - [amazonlinux  ,    2   ,   3001  ,      3]
          # - [oraclelinux  ,    8   ,   3001  ,      3]
          # - [oraclelinux  ,    7   ,   3001  ,      3]

          ### `3000.3-py3`
          - [debian       ,   10   ,   3000.3,      3]
          - [debian       ,    9   ,   3000.3,      3]
          - [ubuntu       ,   18.04,   3000.3,      3]
          - [centos       ,    8   ,   3000.3,      3]
          - [centos       ,    7   ,   3000.3,      3]
          - [fedora       ,   31   ,   3000.3,      3]
          - [opensuse/leap,   15.2 ,   3000.3,      3]
          - [amazonlinux  ,    2   ,   3000.3,      3]
          ### ` 3000.3-py2`
          - [ubuntu       ,   18.04,   3000.3,      2]
          - [ubuntu       ,   16.04,   3000.3,      2]
          - [arch-base    ,  latest,   3000.3,      2]

        # Use this to start adopting the latest `platforms`
        platforms_new: &platforms_new
          ### `master-py3`
          - [debian       ,   10   ,   master,      3]
          - [ubuntu       ,   20.04,   master,      3]
          - [ubuntu       ,   18.04,   master,      3]
          - [centos       ,    8   ,   master,      3]
          - [fedora       ,   32   ,   master,      3]
          - [fedora       ,   31   ,   master,      3]
          - [opensuse/leap,   15.2 ,   master,      3]
          - [amazonlinux  ,    2   ,   master,      3]

          ### `3000.3-py3`
          - [debian       ,   10   ,   3000.3,      3]
          - [debian       ,    9   ,   3000.3,      3]
          - [ubuntu       ,   18.04,   3000.3,      3]
          - [centos       ,    8   ,   3000.3,      3]
          - [centos       ,    7   ,   3000.3,      3]
          - [fedora       ,   31   ,   3000.3,      3]
          - [opensuse/leap,   15.2 ,   3000.3,      3]
          - [amazonlinux  ,    2   ,   3000.3,      3]
          ### ` 3000.3-py2`
          - [ubuntu       ,   18.04,   3000.3,      2]
          - [ubuntu       ,   16.04,   3000.3,      2]
          - [arch-base    ,  latest,   3000.3,      2]

          ### `2019.2-py3`
          - [debian       ,   10   ,   2019.2,      3]
          - [debian       ,    9   ,   2019.2,      3]
          - [ubuntu       ,   18.04,   2019.2,      3]
          - [ubuntu       ,   16.04,   2019.2,      3]
          - [centos       ,    8   ,   2019.2,      3]
          - [centos       ,    7   ,   2019.2,      3]
          - [fedora       ,   31   ,   2019.2,      3]
          - [opensuse/leap,   15.2 ,   2019.2,      3]
          - [amazonlinux  ,    2   ,   2019.2,      3]
          ### `2019.2-py2`
          - [centos       ,    6   ,   2019.2,      2]
          - [amazonlinux  ,    1   ,   2019.2,      2]
          - [arch-base    ,  latest,   2019.2,      2]

        # Use this to start adopting the "unified" platforms based on `saltimages`.
        # Based on `master` images primarily, until `tiamat` becomes viable
        platforms_matrix_new_saltimages: &platforms_matrix_new_saltimages
          # [os           ,  os_ver, salt_ver, py_ver,    inspec_suite]
          - [debian       ,   10   ,   master,      3,         default]
          # - [debian       ,    9   ,   master,      3,         default]
          - [ubuntu       ,   20.04,   master,      3,         default]
          # - [ubuntu       ,   18.04,   master,      3,         default]
          # - [ubuntu       ,   16.04,   master,      3,         default]
          - [centos       ,    8   ,   master,      3,         default]
          # - [centos       ,    7   ,   master,      3,         default]
          - [fedora       ,   33   ,   master,      3,         default]
          # - [fedora       ,   32   ,   master,      3,         default]
          - [opensuse/leap,   15.2 ,   master,      3,         default]
          - [opensuse/tmbl,  latest,   master,      3,         default]
          - [amazonlinux  ,    2   ,   master,      3,         default]
          # # - [oraclelinux  ,    8   ,   master,      3,         default]
          # # - [oraclelinux  ,    7   ,   master,      3,         default]
          # # - [gentoo/stage3,  latest,   master,      3,         default]
          # # - [gentoo/stage3, systemd,   master,      3,         default]
          - [arch-base    ,  latest,   3000.6,      2,         default]

        # Use this to start adopting the latest `platforms_matrix` (after Tiamat)
        # based on `tiamat` & `master` images primarily
        platforms_matrix_new_inc_tiamat: &platforms_matrix_new_inc_tiamat
          # [os           ,  os_ver, salt_ver, py_ver,    inspec_suite]
          - [debian       ,   10   ,   tiamat,      3,         default]
          # - [debian       ,    9   ,   tiamat,      3,         default]
          - [ubuntu       ,   20.04,   tiamat,      3,         default]
          # - [ubuntu       ,   18.04,   tiamat,      3,         default]
          # - [ubuntu       ,   16.04,   tiamat,      3,         default]
          - [centos       ,    8   ,   tiamat,      3,         default]
          # - [centos       ,    7   ,   tiamat,      3,         default]
          - [amazonlinux  ,    2   ,   tiamat,      3,         default]
          # # - [oraclelinux  ,    8   ,   tiamat,      3,         default]
          # # - [oraclelinux  ,    7   ,   tiamat,      3,         default]
          - [fedora       ,   32   ,   master,      3,         default]
          # - [fedora       ,   31   ,   master,      3,         default]
          - [opensuse/leap,   15.2 ,   master,      3,         default]
          - [arch-base    ,  latest,   3000.3,      2,         default]

        # Use this to start adopting the latest `platforms_matrix`
        platforms_matrix_new: &platforms_matrix_new
          # [os           ,  os_ver, salt_ver, py_ver,    inspec_suite]
          - [debian       ,   10   ,   master,      3,         default]
          - [ubuntu       ,   20.04,   master,      3,         default]
          - [centos       ,    8   ,   master,      3,         default]
          - [fedora       ,   32   ,   master,      3,         default]
          # - [ubuntu       ,   18.04,   3000.3,      3,         default]
          - [opensuse/leap,   15.2 ,   3000.3,      3,         default]
          - [amazonlinux  ,    2   ,   3000.3,      3,         default]
          # - [fedora       ,   31   ,   2019.2,      3,         default]
          - [arch-base    ,  latest,   2019.2,      2,         default]

        # Use this to start adopting the latest `platforms_matrix`
        # based on `master` images primarily
        # yamllint disable-line rule:line-length
        platforms_matrix_new_mainly_master_images: &platforms_matrix_new_mainly_master_images
          # [os           ,  os_ver, salt_ver, py_ver,    inspec_suite]
          - [debian       ,   10   ,   master,      3,         default]
          - [ubuntu       ,   20.04,   master,      3,         default]
          # - [ubuntu       ,   18.04,   master,      3,         default]
          - [centos       ,    8   ,   master,      3,         default]
          - [fedora       ,   32   ,   master,      3,         default]
          # - [fedora       ,   31   ,   master,      3,         default]
          - [opensuse/leap,   15.2 ,   master,      3,         default]
          - [amazonlinux  ,    2   ,   master,      3,         default]
          - [arch-base    ,  latest,   2019.2,      2,         default]

        platforms_osfamily_debian: &platforms_osfamily_debian
          # [os           ,  os_ver, salt_ver, py_ver]
          - [debian       ,   10   ,   master,      3]
          - [ubuntu       ,   18.04,   master,      3]
          - [debian       ,   10   ,   2019.2,      3]
          - [debian       ,    9   ,   2019.2,      3]
          - [ubuntu       ,   18.04,   2019.2,      3]
          - [debian       ,    9   ,   2018.3,      2]
          - [ubuntu       ,   16.04,   2018.3,      2]
          - [debian       ,    8   ,   2017.7,      2]
          - [ubuntu       ,   16.04,   2017.7,      2]
        platforms_osfamily_debian_new: &platforms_osfamily_debian_new
          # [os           ,  os_ver, salt_ver, py_ver]
          - [debian       ,   10   ,   master,      3]
          - [ubuntu       ,   20.04,   master,      3]
          - [ubuntu       ,   18.04,   master,      3]
          - [debian       ,   10   ,   3000.3,      3]
          - [debian       ,    9   ,   3000.3,      3]
          - [ubuntu       ,   18.04,   3000.3,      3]
          - [ubuntu       ,   18.04,   3000.3,      2]
          - [ubuntu       ,   16.04,   3000.3,      2]
          - [debian       ,   10   ,   2019.2,      3]
          - [debian       ,    9   ,   2019.2,      3]
          - [ubuntu       ,   18.04,   2019.2,      3]
          - [ubuntu       ,   16.04,   2019.2,      3]
        platforms_osfamily_redhat: &platforms_osfamily_redhat
          # [os           ,  os_ver, salt_ver, py_ver]
          - [centos       ,    8   ,   master,      3]
          - [fedora       ,   31   ,   master,      3]
          - [amazonlinux  ,    2   ,   master,      3]
          - [centos       ,    8   ,   2019.2,      3]
          - [fedora       ,   31   ,   2019.2,      3]
          - [amazonlinux  ,    2   ,   2019.2,      3]
          - [centos       ,    7   ,   2019.2,      2]
          - [fedora       ,   30   ,   2018.3,      3]
          - [centos       ,    7   ,   2018.3,      2]
          - [amazonlinux  ,    1   ,   2018.3,      2]
          - [centos       ,    6   ,   2017.7,      2]
          - [fedora       ,   30   ,   2017.7,      2]
          - [amazonlinux  ,    1   ,   2017.7,      2]
        platforms_osfamily_redhat_new: &platforms_osfamily_redhat_new
          # [os           ,  os_ver, salt_ver, py_ver]
          - [centos       ,    8   ,   master,      3]
          - [fedora       ,   32   ,   master,      3]
          - [fedora       ,   31   ,   master,      3]
          - [amazonlinux  ,    2   ,   master,      3]
          - [centos       ,    8   ,   3000.3,      3]
          - [centos       ,    7   ,   3000.3,      3]
          - [fedora       ,   31   ,   3000.3,      3]
          - [amazonlinux  ,    2   ,   3000.3,      3]
          - [centos       ,    8   ,   2019.2,      3]
          - [centos       ,    7   ,   2019.2,      3]
          - [fedora       ,   31   ,   2019.2,      3]
          - [amazonlinux  ,    2   ,   2019.2,      3]
          - [centos       ,    6   ,   2019.2,      2]
          - [amazonlinux  ,    1   ,   2019.2,      2]
        # yamllint disable-line rule:line-length
        platforms_osfamily_redhat_new_without_amazon: &platforms_osfamily_redhat_new_without_amazon
          # [os           ,  os_ver, salt_ver, py_ver]
          - [centos       ,    8   ,   master,      3]
          - [fedora       ,   32   ,   master,      3]
          - [fedora       ,   31   ,   master,      3]
          - [centos       ,    8   ,   3000.3,      3]
          - [centos       ,    7   ,   3000.3,      3]
          - [fedora       ,   31   ,   3000.3,      3]
          - [centos       ,    8   ,   2019.2,      3]
          - [centos       ,    7   ,   2019.2,      3]
          - [fedora       ,   31   ,   2019.2,      3]
          - [centos       ,    6   ,   2019.2,      2]
        platforms_osfamily_suse: &platforms_osfamily_suse
          # [os           ,  os_ver, salt_ver, py_ver]
          - [opensuse/leap,   15.1 ,   master,      3]
          - [opensuse/leap,   15.1 ,   2019.2,      3]
          - [opensuse/leap,   15.1 ,   2018.3,      2]
          - [opensuse/leap,   15.1 ,   2017.7,      2]
        platforms_osfamily_suse_new: &platforms_osfamily_suse_new
          # [os           ,  os_ver, salt_ver, py_ver]
          - [opensuse/leap,   15.1 ,   master,      3]
          - [opensuse/leap,   15.1 ,   3000.3,      3]
          - [opensuse/leap,   15.1 ,   2019.2,      3]
          - [opensuse/leap,   15.1 ,   2018.3,      2]
        platforms_osfamily_suse_new_15_2: &platforms_osfamily_suse_new_15_2
          # [os           ,  os_ver, salt_ver, py_ver]
          - [opensuse/leap,   15.2 ,   master,      3]
          - [opensuse/leap,   15.2 ,   3000.3,      3]
          - [opensuse/leap,   15.2 ,   2019.2,      3]
        platforms_os_debian: &platforms_os_debian
          # [os           ,  os_ver, salt_ver, py_ver]
          - [debian       ,   10   ,   master,      3]
          - [debian       ,   10   ,   2019.2,      3]
          - [debian       ,    9   ,   2019.2,      3]
          - [debian       ,    9   ,   2018.3,      2]
          - [debian       ,    8   ,   2017.7,      2]
        platforms_os_debian_new: &platforms_os_debian_new
          # [os           ,  os_ver, salt_ver, py_ver]
          - [debian       ,   10   ,   master,      3]
          - [debian       ,   10   ,   3000.3,      3]
          - [debian       ,    9   ,   3000.3,      3]
          - [debian       ,   10   ,   2019.2,      3]
          - [debian       ,    9   ,   2019.2,      3]
        platforms_os_ubuntu: &platforms_os_ubuntu
          # [os           ,  os_ver, salt_ver, py_ver]
          - [ubuntu       ,   18.04,   master,      3]
          - [ubuntu       ,   18.04,   2019.2,      3]
          - [ubuntu       ,   16.04,   2018.3,      2]
          - [ubuntu       ,   16.04,   2017.7,      2]
        platforms_os_ubuntu_new: &platforms_os_ubuntu_new
          # [os           ,  os_ver, salt_ver, py_ver]
          - [ubuntu       ,   20.04,   master,      3]
          - [ubuntu       ,   18.04,   master,      3]
          - [ubuntu       ,   18.04,   3000.3,      3]
          - [ubuntu       ,   18.04,   3000.3,      2]
          - [ubuntu       ,   16.04,   3000.3,      2]
          - [ubuntu       ,   18.04,   2019.2,      3]
          - [ubuntu       ,   16.04,   2019.2,      3]
        # platforms_os_ubuntu18: &platforms_os_ubuntu18
        #   # [os           ,  os_ver, salt_ver, py_ver]
        #   - [ubuntu       ,   18.04,   master,      3]
        #   - [ubuntu       ,   18.04,   2019.2,      3]
        # platforms_os_ubuntu16: &platforms_os_ubuntu16
        #   # [os           ,  os_ver, salt_ver, py_ver]
        #   - [ubuntu       ,   16.04,   2018.3,      2]
        #   - [ubuntu       ,   16.04,   2017.7,      2]
        platforms_os_fedora: &platforms_os_fedora
          # [os           ,  os_ver, salt_ver, py_ver]
          - [fedora       ,   31   ,   master,      3]
          - [fedora       ,   31   ,   2019.2,      3]
          - [fedora       ,   30   ,   2018.3,      3]
          - [fedora       ,   30   ,   2017.7,      2]
        platforms_os_fedora_new: &platforms_os_fedora_new
          # [os           ,  os_ver, salt_ver, py_ver]
          - [fedora       ,   32   ,   master,      3]
          - [fedora       ,   31   ,   master,      3]
          - [fedora       ,   31   ,   3000.3,      3]
          - [fedora       ,   31   ,   2019.2,      3]
        # platforms_os_suse: &platforms_os_suse
        #   # [os           ,  os_ver, salt_ver, py_ver]
        #   - [opensuse/leap,   15.1 ,   master,      3]
        #   - [opensuse/leap,   15.1 ,   2019.2,      3]
        #   - [opensuse/leap,   15.1 ,   2018.3,      2]
        #   - [opensuse/leap,   15.1 ,   2017.7,      2]
        platforms_os_centos: &platforms_os_centos
          # [os           ,  os_ver, salt_ver, py_ver]
          - [centos       ,    8   ,   master,      3]
          - [centos       ,    8   ,   2019.2,      3]
          - [centos       ,    7   ,   2019.2,      2]
          - [centos       ,    7   ,   2018.3,      2]
          - [centos       ,    6   ,   2017.7,      2]
        platforms_os_centos_new: &platforms_os_centos_new
          # [os           ,  os_ver, salt_ver, py_ver]
          - [centos       ,    8   ,   master,      3]
          - [centos       ,    8   ,   3000.3,      3]
          - [centos       ,    7   ,   3000.3,      3]
          - [centos       ,    8   ,   2019.2,      3]
          - [centos       ,    7   ,   2019.2,      3]
          - [centos       ,    6   ,   2019.2,      2]
        platforms_os_amazonlinux: &platforms_os_amazonlinux
          # [os           ,  os_ver, salt_ver, py_ver]
          - [amazonlinux  ,    2   ,   master,      3]
          - [amazonlinux  ,    2   ,   2019.2,      3]
          - [amazonlinux  ,    1   ,   2018.3,      2]
          - [amazonlinux  ,    1   ,   2017.7,      2]
        platforms_os_amazonlinux_new: &platforms_os_amazonlinux_new
          # [os           ,  os_ver, salt_ver, py_ver]
          - [amazonlinux  ,    2   ,   master,      3]
          - [amazonlinux  ,    2   ,   3000.3,      3]
          - [amazonlinux  ,    2   ,   2019.2,      3]
          - [amazonlinux  ,    1   ,   2019.2,      2]
        platforms_os_upstart: &platforms_os_upstart
          # [os           ,  os_ver, salt_ver, py_ver]
          - [centos       ,    6   ,   2019.2,      2]
          - [amazonlinux  ,    1   ,   2019.2,      2]
        platforms_os_arch_base: &platforms_os_arch_base
          # [os           ,  os_ver, salt_ver, py_ver]
          - [arch-base    ,  latest,   2019.2,      2]
          - [arch-base    ,  latest,   2018.3,      2]
          - [arch-base    ,  latest,   2017.7,      2]
        platforms_os_arch_base_new: &platforms_os_arch_base_new
          # [os           ,  os_ver, salt_ver, py_ver]
          - [arch-base    ,  latest,   3000.3,      2]
          - [arch-base    ,  latest,   2019.2,      2]
        platforms_os_redhat_locale_specific: &platforms_os_redhat_locale_specific
          # [os           ,  os_ver, salt_ver, py_ver]
          - [centos       ,    8   ,   master,      3]
          - [fedora       ,   31   ,   master,      3]
          - [amazonlinux  ,    2   ,   master,      3]
          - [centos       ,    8   ,   2019.2,      3]
          - [fedora       ,   31   ,   2019.2,      3]
          - [amazonlinux  ,    2   ,   2019.2,      3]
          - [fedora       ,   30   ,   2018.3,      3]
          - [amazonlinux  ,    1   ,   2018.3,      2]
          - [fedora       ,   30   ,   2017.7,      2]
          - [amazonlinux  ,    1   ,   2017.7,      2]
        platforms_2017_7: &platforms_2017_7
          # [os           ,  os_ver, salt_ver, py_ver]
          # - [debian       ,    9   ,   2017.7,      2]
          - [debian       ,    8   ,   2017.7,      2]
          - [ubuntu       ,   16.04,   2017.7,      2]
          - [centos       ,    6   ,   2017.7,      2]
          - [fedora       ,   30   ,   2017.7,      2]
          - [opensuse/leap,   15.1 ,   2017.7,      2]
          - [amazonlinux  ,    1   ,   2017.7,      2]
          - [arch-base    ,  latest,   2017.7,      2]
        platforms_gentoo: &platforms_gentoo
          # [os           ,  os_ver, salt_ver, py_ver]
          - [gentoo/stage3,  latest,   master,      3]
          - [gentoo/stage3, systemd,   master,      3]
          - [gentoo/stage3,  latest,   3001  ,      3]
          - [gentoo/stage3, systemd,   3001  ,      3]
          - [gentoo/stage3,  latest,   3000.3,      3]
          - [gentoo/stage3, systemd,   3000.3,      3]
        platforms_non_systemd: &platforms_non_systemd
          # [os           ,  os_ver, salt_ver, py_ver]
          - [centos       ,    6   ,   2019.2,      2]
          - [amazonlinux  ,    1   ,   2019.2,      2]
          - [gentoo/stage3,  latest,   master,      3]
          - [gentoo/stage3, systemd,   master,      3]
          - [gentoo/stage3,  latest,   3001  ,      3]
          - [gentoo/stage3, systemd,   3001  ,      3]
          - [gentoo/stage3,  latest,   3000.3,      3]
          - [gentoo/stage3, systemd,   3000.3,      3]
        platforms_matrix_osfamily_suites: &platforms_matrix_osfamily_suites
          # [os           ,  os_ver, salt_ver, py_ver,    inspec_suite]
          - [debian       ,   10   ,   master,      3,          debian]
          - [ubuntu       ,   18.04,   2019.2,      3,          debian]
          - [amazonlinux  ,    2   ,   2019.2,      3,          redhat]
          - [fedora       ,   30   ,   2018.3,      3,          redhat]
          - [opensuse/leap,   15.1 ,   2018.3,      2,            suse]
          - [centos       ,    6   ,   2017.7,      2,          redhat]
        platforms_matrix_osfamily_debian: &platforms_matrix_osfamily_debian
          # [os           ,  os_ver, salt_ver, py_ver,    inspec_suite]
          - [debian       ,   10   ,   master,      3,         default]
          - [ubuntu       ,   18.04,   master,      3,         default]
          - [debian       ,    9   ,   2019.2,      3,         default]
          - [ubuntu       ,   18.04,   2019.2,      3,         default]
          # # - [debian       ,    9   ,   2018.3,      2,         default]
          # # - [ubuntu       ,   16.04,   2017.7,      2,         default]
        platforms_matrix_osfamily_debian_new: &platforms_matrix_osfamily_debian_new
          # [os           ,  os_ver, salt_ver, py_ver,    inspec_suite]
          - [debian       ,   10   ,   master,      3,         default]
          - [ubuntu       ,   20.04,   master,      3,         default]
          - [debian       ,    9   ,   3000.3,      3,         default]
          - [ubuntu       ,   18.04,   3000.3,      3,         default]
          - [ubuntu       ,   16.04,   2019.2,      3,         default]
        platforms_matrix_systemd_only: &platforms_matrix_systemd_only
          # TODO: Get `centos-8` working again and re-enable
          # [os           ,  os_ver, salt_ver, py_ver,    inspec_suite]
          - [debian       ,   10   ,   master,      3,         default]
          - [ubuntu       ,   18.04,   2019.2,      3,         default]
          # # - [centos       ,    8   ,   2019.2,      3,         default]
          - [opensuse/leap,   15.1 ,   2019.2,      3,         default]
          - [amazonlinux  ,    2   ,   2019.2,      3,         default]
          - [fedora       ,   30   ,   2018.3,      3,         default]
          - [arch-base    ,  latest,   2018.3,      2,         default]
        platforms_matrix_without_arch: &platforms_matrix_without_arch
          # [os           ,  os_ver, salt_ver, py_ver,    inspec_suite]
          - [debian       ,   10   ,   master,      3,         default]
          - [ubuntu       ,   18.04,   2019.2,      3,         default]
          - [opensuse/leap,   15.1 ,   2019.2,      3,         default]
          - [amazonlinux  ,    2   ,   2019.2,      3,         default]
          - [fedora       ,   30   ,   2018.3,      3,         default]
          # - [arch-base    ,  latest,   2018.3,      2,         default]
          # # - [centos       ,    6   ,   2017.7,      2,         default]
        platforms_matrix_without_arch_new: &platforms_matrix_without_arch_new
          # [os           ,  os_ver, salt_ver, py_ver,    inspec_suite]
          - [debian       ,   10   ,   master,      3,         default]
          - [ubuntu       ,   20.04,   master,      3,         default]
          - [centos       ,    8   ,   master,      3,         default]
          - [fedora       ,   32   ,   master,      3,         default]
          - [opensuse/leap,   15.2 ,   3000.3,      3,         default]
          - [amazonlinux  ,    2   ,   3000.3,      3,         default]
          # - [arch-base    ,  latest,   2019.2,      2,         default]
        platforms_matrix_jetbrains: &platforms_matrix_jetbrains
          # [os           ,  os_ver, salt_ver, py_ver,    inspec_suite]
          - [debian       ,   10   ,   master,      3,         default]
          # # - [centos       ,    8   ,   master,      3,         default]
          - [fedora       ,   32   ,   master,      3,         default]
          - [opensuse/leap,   15.2 ,   master,      3,         default]
          - [arch-base    ,  latest,   2019.2,      2,            arch]
        # yamllint disable-line rule:line-length
        travis_do_not_use_single_job_for_linters: &travis_do_not_use_single_job_for_linters
          use_single_job_for_linters: false
        yamllint:
          rules:
            rule:
              ignore_pillar_example: &ignore_pillar_example
                - pillar.example
              # yamllint disable-line rule:line-length
              ignore_pillar_example_and_with_views_example: &ignore_pillar_example_and_with_views_example
                - pillar.example
                - pillar-with-views.example
      semrel_files: &semrel_files_default
        .github/workflows/commitlint.yml: &file__--github__workflows__commitlint--yml
          <<: *file_default
        bin/install-hooks: &file__bin__install-hooks
          <<: *file_default
          mode: 755
        bin/kitchen: &file__bin__kitchen
          <<: *file_default
          mode: 755
        docs/CONTRIBUTING.rst: &file__docs__CONTRIBUTING--rst
          <<: *file_default
        docs/TOFS_pattern.rst: &file__docs__TOFS_pattern--rst
          <<: *file_default
        formula/libsaltcli.jinja: &file__formula__libsaltcli--jinja
          <<: *file_default
        formula/libtofs.jinja: &file__formula__libtofs--jinja
          <<: *file_default
        inspec/inspec.yml: &file__inspec__inspec--yml
          <<: *file_default
          template: 'jinja'
        inspec/README.md: &file__inspec__README--md
          <<: *file_default
          template: 'jinja'
        .gitignore: &file__--gitignore
          <<: *file_default
        .cirrus.yml: &file__--cirrus--yml
          <<: *file_default
          template: 'jinja'
        .gitlab-ci.yml: &file__--gitlab-ci--yml
          <<: *file_default
          template: 'jinja'
        .pre-commit-config.yaml: &file__--pre-commit-config--yaml
          <<: *file_default
          template: 'jinja'
        .rstcheck.cfg: &file__--rstcheck--cfg
          <<: *file_default
        .rubocop.yml: &file__--rubocop--yml
          <<: *file_default
          template: 'jinja'
        .salt-lint: &file__--salt-lint
          <<: *file_default
          template: 'jinja'
        .travis.yml: &file__--travis--yml
          <<: *file_default
          template: 'jinja'
        .yamllint: &file__--yamllint
          <<: *file_default
          template: 'jinja'
        CODEOWNERS: &file__CODEOWNERS
          <<: *file_default
          template: 'jinja'
        commitlint.config.js: &file__commitlint--config--js
          <<: *file_default
        Gemfile: &file__Gemfile
          <<: *file_default
        Gemfile.lock: &file__Gemfile--lock
          <<: *file_default
        kitchen.yml: &file__kitchen--yml
          <<: *file_default
          template: 'jinja'
        pre-commit_semantic-release.sh: &file__pre-commit_semantic-release--sh
          <<: *file_default
          mode: 755
        release-rules.js: &file__release-rules--js
          <<: *file_default
        release.config.js: &file__release--config--js
          <<: *file_default
          template: 'jinja'
      semrel_files_inc_map_jinja_verifier: &semrel_files_inc_map_jinja_verifier
        <<: *semrel_files_default
        formula/_mapdata/_mapdata.jinja: &file__formula___mapdata___mapdata--jinja
          <<: *file_default
        formula/_mapdata/init.sls: &file__formula___mapdata___init--sls
          <<: *file_default
          template: 'mako'
        inspec/controls/_mapdata.rb: &file__inspec__controls___mapdata--rb
          <<: *file_default
          template: 'jinja'
        inspec/libraries/system.rb: &file__inspec__libraries__system--rb
          <<: *file_default

ssf:
  semrel_formulas:
    .github:
      context:
        git:
          github:
            repo: '.github'
        inspec_suites_kitchen: {}
        inspec_suites_matrix: []
        platforms: []
        platforms_matrix: []
      semrel_files:
        .github/workflows/commitlint.yml: *file__--github__workflows__commitlint--yml
        docs/CONTRIBUTING.rst:
          <<: *file__docs__CONTRIBUTING--rst
          dest_file: 'CONTRIBUTING.rst'
    ssf:
      context:
        codeowners:
          entries:
            global:
              - '*': '@myii'
            specific_ssf: []
        git:
          github:
            owner: 'myii'
            repo: 'ssf-formula'
          gitlab:
            owner: 'myii'
        inspec_suites_kitchen:
          0:
            inspec_yml:
              summary: >-
                Verify that the ssf formula is setup and configured correctly
        inspec_suites_matrix: []
        platforms: []
        platforms_matrix: []
        rubocop:
          AllCops:
            Exclude:
              - 'ssf/files/**/*'
        use_tofs: true
        yamllint:
          ignore:
            additional:
              - ssf/files/default/.cirrus.yml
              - ssf/files/default/.gitlab-ci.yml
              - ssf/files/default/.pre-commit-config.yaml
              - ssf/files/default/.rubocop.yml
              - ssf/files/default/.salt-lint
              - ssf/files/default/.travis.yml
              - ssf/files/default/.yamllint
              - ssf/files/default/inspec/inspec.yml
              - ssf/files/default/kitchen.yml
              - ssf/files/tofs_arvados-formula/.travis.yml
              - ssf/files/tofs_ssf-formula/.yamllint
          rules:
            commas:
              ignore:
                - ssf/defaults.yaml
                - ssf/formulas.yaml
      semrel_files:
        .github/workflows/commitlint.yml: *file__--github__workflows__commitlint--yml
        bin/install-hooks: *file__bin__install-hooks
        docs/CONTRIBUTING.rst: *file__docs__CONTRIBUTING--rst
        docs/TOFS_pattern.rst: *file__docs__TOFS_pattern--rst
        formula/libtofs.jinja: *file__formula__libtofs--jinja
        .gitignore: *file__--gitignore
        .gitlab-ci.yml: *file__--gitlab-ci--yml
        .pre-commit-config.yaml: *file__--pre-commit-config--yaml
        .rstcheck.cfg: *file__--rstcheck--cfg
        .rubocop.yml: *file__--rubocop--yml
        .salt-lint: *file__--salt-lint
        .travis.yml: *file__--travis--yml
        .yamllint: *file__--yamllint
        CODEOWNERS: *file__CODEOWNERS
        commitlint.config.js: *file__commitlint--config--js
        Gemfile: *file__Gemfile
        Gemfile.lock: *file__Gemfile--lock
        pre-commit_semantic-release.sh: *file__pre-commit_semantic-release--sh
        release-rules.js: *file__release-rules--js
        release.config.js: *file__release--config--js
    ssf_dafyddj:
      context:
        codeowners:
          entries:
            global:
              - '*': '@dafyddj'
            specific_ssf: []
        git:
          github:
            owner: 'dafyddj'
            repo: 'ssf_dafyddj-formula'
          gitlab:
            owner: 'dafyddj'
        inspec_suites_kitchen:
          0:
            inspec_yml:
              summary: >-
                Verify that the ssf formula is setup and configured correctly
        inspec_suites_matrix: []
        platforms: []
        platforms_matrix: []
        rubocop:
          AllCops:
            Exclude:
              - 'ssf/files/**/*'
        use_tofs: true
        yamllint:
          ignore:
            additional:
              - ssf/files/default/.cirrus.yml
              - ssf/files/default/.gitlab-ci.yml
              - ssf/files/default/.pre-commit-config.yaml
              - ssf/files/default/.rubocop.yml
              - ssf/files/default/.salt-lint
              - ssf/files/default/.travis.yml
              - ssf/files/default/.yamllint
              - ssf/files/default/inspec/inspec.yml
              - ssf/files/default/kitchen.yml
              - ssf/files/tofs_arvados-formula/.travis.yml
              - ssf/files/tofs_ssf-formula/.yamllint
          rules:
            commas:
              ignore:
                - ssf/defaults.yaml
                - ssf/formulas.yaml
      semrel_files:
        .github/workflows/commitlint.yml: *file__--github__workflows__commitlint--yml
        bin/install-hooks: *file__bin__install-hooks
        docs/CONTRIBUTING.rst: *file__docs__CONTRIBUTING--rst
        docs/TOFS_pattern.rst: *file__docs__TOFS_pattern--rst
        formula/libtofs.jinja: *file__formula__libtofs--jinja
        .gitignore: *file__--gitignore
        .gitlab-ci.yml: *file__--gitlab-ci--yml
        .pre-commit-config.yaml: *file__--pre-commit-config--yaml
        .rstcheck.cfg: *file__--rstcheck--cfg
        .rubocop.yml: *file__--rubocop--yml
        .salt-lint: *file__--salt-lint
        .travis.yml: *file__--travis--yml
        .yamllint: *file__--yamllint
        CODEOWNERS: *file__CODEOWNERS
        commitlint.config.js: *file__commitlint--config--js
        Gemfile: *file__Gemfile
        Gemfile.lock: *file__Gemfile--lock
        pre-commit_semantic-release.sh: *file__pre-commit_semantic-release--sh
        release-rules.js: *file__release-rules--js
        release.config.js: *file__release--config--js
    template:
      context:
        codeowners:
          entries:
            global:
              - '*': '@saltstack-formulas/wg'
        git:
          github:
            repo: 'template-formula'
        inspec_suites_kitchen:
          0:
            excludes: *platforms_non_systemd
            inspec_yml:
              depends: *depends_on_suite_share
              summary: >-
                Verify that the TEMPLATE formula is setup and configured correctly
              supports: *supports_all_including_oracle_and_gentoo
            provisioner:
              pillars:
                - '*':
                    - TEMPLATE
                    - define_roles
              pillars_from_files:
                - TEMPLATE.sls: 'pillar.example'
                - define_roles.sls: 'test/salt/pillar/define_roles.sls'
              state_top:
                - '*':
                    - ._mapdata
                    - TEMPLATE
          1: *inspec_suites_kitchen__share_suite
          2:
            includes: *platforms_os_upstart
            provisioner:
              pillars:
                - '*':
                    - TEMPLATE
                    - define_roles
              pillars_from_files:
                - TEMPLATE.sls: 'test/salt/pillar/upstart.sls'
                - define_roles.sls: 'test/salt/pillar/define_roles.sls'
              state_top:
                - '*':
                    - ._mapdata
                    - TEMPLATE
            verifier: *verifier_inspec_tests_default
          3:
            includes: *platforms_gentoo
            provisioner:
              pillars:
                - '*':
                    - TEMPLATE
                    - gentoo
                    - define_roles
              pillars_from_files:
                - TEMPLATE.sls: 'pillar.example'
                - gentoo.sls: 'test/salt/pillar/gentoo.sls'
                - define_roles.sls: 'test/salt/pillar/define_roles.sls'
              state_top:
                - '*':
                    - ._mapdata
                    - TEMPLATE
            verifier: *verifier_inspec_tests_default
        inspec_suites_matrix:
          - default
          - upstart
          - gentoo
        map_jinja:
          verification:
            import: ['TEMPLATE']
        platforms:
          ### `tiamat-py3`
          - [debian       ,   10   ,   tiamat,      3]
          - [debian       ,    9   ,   tiamat,      3]
          - [ubuntu       ,   20.04,   tiamat,      3]
          - [ubuntu       ,   18.04,   tiamat,      3]
          - [ubuntu       ,   16.04,   tiamat,      3]
          - [centos       ,    8   ,   tiamat,      3]
          - [centos       ,    7   ,   tiamat,      3]
          - [amazonlinux  ,    2   ,   tiamat,      3]
          - [oraclelinux  ,    8   ,   tiamat,      3]
          - [oraclelinux  ,    7   ,   tiamat,      3]

          ### `master-py3`
          - [debian       ,   10   ,   master,      3]
          - [ubuntu       ,   20.04,   master,      3]
          - [ubuntu       ,   18.04,   master,      3]
          - [centos       ,    8   ,   master,      3]
          - [fedora       ,   32   ,   master,      3]
          - [fedora       ,   31   ,   master,      3]
          - [opensuse/leap,   15.2 ,   master,      3]
          - [amazonlinux  ,    2   ,   master,      3]
          # - [oraclelinux  ,    8   ,   master,      3]
          - [gentoo/stage3,  latest,   master,      3]
          - [gentoo/stage3, systemd,   master,      3]

          ### `3001-py3`
          - [debian       ,   10   ,   3001  ,      3]
          - [debian       ,    9   ,   3001  ,      3]
          - [ubuntu       ,   20.04,   3001  ,      3]
          - [ubuntu       ,   18.04,   3001  ,      3]
          - [centos       ,    8   ,   3001  ,      3]
          - [centos       ,    7   ,   3001  ,      3]
          - [fedora       ,   32   ,   3001  ,      3]
          - [fedora       ,   31   ,   3001  ,      3]
          - [opensuse/leap,   15.2 ,   3001  ,      3]
          - [amazonlinux  ,    2   ,   3001  ,      3]
          - [oraclelinux  ,    8   ,   3001  ,      3]
          - [oraclelinux  ,    7   ,   3001  ,      3]
          - [gentoo/stage3,  latest,   3001  ,      3]
          - [gentoo/stage3, systemd,   3001  ,      3]

          ### `3000.3-py3`
          - [debian       ,   10   ,   3000.3,      3]
          - [debian       ,    9   ,   3000.3,      3]
          - [ubuntu       ,   18.04,   3000.3,      3]
          - [centos       ,    8   ,   3000.3,      3]
          - [centos       ,    7   ,   3000.3,      3]
          - [fedora       ,   31   ,   3000.3,      3]
          - [opensuse/leap,   15.2 ,   3000.3,      3]
          - [amazonlinux  ,    2   ,   3000.3,      3]
          - [gentoo/stage3,  latest,   3000.3,      3]
          - [gentoo/stage3, systemd,   3000.3,      3]
          ### ` 3000.3-py2`
          - [ubuntu       ,   18.04,   3000.3,      2]
          - [ubuntu       ,   16.04,   3000.3,      2]
          - [arch-base    ,  latest,   3000.3,      2]

          ### `2019.2-py2`
          - [centos       ,    6   ,   2019.2,      2]
          - [amazonlinux  ,    1   ,   2019.2,      2]
        platforms_matrix:
          # [os           ,  os_ver, salt_ver, py_ver,    inspec_suite]
          - [debian       ,   10   ,   tiamat,      3,         default]
          # - [debian       ,    9   ,   tiamat,      3,         default]
          - [ubuntu       ,   20.04,   tiamat,      3,         default]
          # - [ubuntu       ,   18.04,   tiamat,      3,         default]
          # - [ubuntu       ,   16.04,   tiamat,      3,         default]
          - [centos       ,    8   ,   tiamat,      3,         default]
          # - [centos       ,    7   ,   tiamat,      3,         default]
          - [amazonlinux  ,    2   ,   tiamat,      3,         default]
          - [oraclelinux  ,    8   ,   tiamat,      3,         default]
          # - [oraclelinux  ,    7   ,   tiamat,      3,         default]
          - [fedora       ,   32   ,   master,      3,         default]
          # - [fedora       ,   31   ,   master,      3,         default]
          - [opensuse/leap,   15.2 ,   master,      3,         default]
          - [gentoo/stage3,  latest,   master,      3,          gentoo]
          - [gentoo/stage3, systemd,   master,      3,          gentoo]
          - [arch-base    ,  latest,   3000.3,      2,         default]
          # # - [centos       ,    6   ,   2019.2,      2,         upstart]
          - [amazonlinux  ,    1   ,   2019.2,      2,         upstart]
        use_libsaltcli: true
        use_tofs: true
      semrel_files:
        <<: *semrel_files_inc_map_jinja_verifier
        formula/libsaltcli.jinja:
          <<: *file__formula__libsaltcli--jinja
          alt_semrel_formula: 'TEMPLATE'
        formula/libtofs.jinja:
          <<: *file__formula__libtofs--jinja
          alt_semrel_formula: 'TEMPLATE'
        inspec/inspec.yml:
          <<: *file__inspec__inspec--yml
          alt_semrel_formula: 'TEMPLATE'
        kitchen.yml:
          <<: *file__kitchen--yml
          alt_semrel_formula: 'TEMPLATE'
        # Overrides for extra files in `*semrel_files_inc_map_jinja_verifier`
        formula/_mapdata/_mapdata.jinja:
          <<: *file__formula___mapdata___mapdata--jinja
          alt_semrel_formula: 'TEMPLATE'
        formula/_mapdata/init.sls:
          <<: *file__formula___mapdata___init--sls
          alt_semrel_formula: 'TEMPLATE'
    template_github:
      context:
        git:
          github:
            repo: 'template_github-formula'
        inspec_suites_kitchen:
          0:
            excludes: *platforms_non_systemd
            inspec_yml:
              depends: *depends_on_suite_share
              summary: >-
                Verify that the TEMPLATE formula is setup and configured correctly
              supports: *supports_all_including_oracle_and_gentoo
            provisioner:
              pillars:
                - '*':
                    - TEMPLATE
                    - define_roles
              pillars_from_files:
                - TEMPLATE.sls: 'pillar.example'
                - define_roles.sls: 'test/salt/pillar/define_roles.sls'
              state_top:
                - '*':
                    - ._mapdata
                    - TEMPLATE
          1: *inspec_suites_kitchen__share_suite
          2:
            includes: *platforms_os_upstart
            provisioner:
              pillars:
                - '*':
                    - TEMPLATE
                    - define_roles
              pillars_from_files:
                - TEMPLATE.sls: 'test/salt/pillar/upstart.sls'
                - define_roles.sls: 'test/salt/pillar/define_roles.sls'
              state_top:
                - '*':
                    - ._mapdata
                    - TEMPLATE
            verifier: *verifier_inspec_tests_default
          3:
            includes: *platforms_gentoo
            provisioner:
              pillars:
                - '*':
                    - TEMPLATE
                    - gentoo
                    - define_roles
              pillars_from_files:
                - TEMPLATE.sls: 'pillar.example'
                - gentoo.sls: 'test/salt/pillar/gentoo.sls'
                - define_roles.sls: 'test/salt/pillar/define_roles.sls'
              state_top:
                - '*':
                    - ._mapdata
                    - TEMPLATE
            verifier: *verifier_inspec_tests_default
        inspec_suites_matrix:
          - default
          - upstart
          - gentoo
        use_libsaltcli: true
        use_tofs: true
      semrel_files:
        <<: *semrel_files_inc_map_jinja_verifier
        formula/libsaltcli.jinja:
          <<: *file__formula__libsaltcli--jinja
          alt_semrel_formula: 'TEMPLATE'
        formula/libtofs.jinja:
          <<: *file__formula__libtofs--jinja
          alt_semrel_formula: 'TEMPLATE'
        inspec/inspec.yml:
          <<: *file__inspec__inspec--yml
          alt_semrel_formula: 'TEMPLATE'
        kitchen.yml:
          <<: *file__kitchen--yml
          alt_semrel_formula: 'TEMPLATE'
        # Overrides for extra files in `*semrel_files_inc_map_jinja_verifier`
        formula/_mapdata/_mapdata.jinja:
          <<: *file__formula___mapdata___mapdata--jinja
          alt_semrel_formula: 'TEMPLATE'
        formula/_mapdata/init.sls:
          <<: *file__formula___mapdata___init--sls
          alt_semrel_formula: 'TEMPLATE'
    template_github_linux:
      context:
        git:
          github:
            repo: 'template_github_linux-formula'
        inspec_suites_kitchen:
          0:
            excludes: *platforms_non_systemd
            inspec_yml:
              depends: *depends_on_suite_share
              summary: >-
                Verify that the TEMPLATE formula is setup and configured correctly
              supports: *supports_all_including_oracle_and_gentoo
            provisioner:
              pillars:
                - '*':
                    - TEMPLATE
                    - define_roles
              pillars_from_files:
                - TEMPLATE.sls: 'pillar.example'
                - define_roles.sls: 'test/salt/pillar/define_roles.sls'
              state_top:
                - '*':
                    - ._mapdata
                    - TEMPLATE
          1: *inspec_suites_kitchen__share_suite
          2:
            includes: *platforms_os_upstart
            provisioner:
              pillars:
                - '*':
                    - TEMPLATE
                    - define_roles
              pillars_from_files:
                - TEMPLATE.sls: 'test/salt/pillar/upstart.sls'
                - define_roles.sls: 'test/salt/pillar/define_roles.sls'
              state_top:
                - '*':
                    - ._mapdata
                    - TEMPLATE
            verifier: *verifier_inspec_tests_default
          3:
            includes: *platforms_gentoo
            provisioner:
              pillars:
                - '*':
                    - TEMPLATE
                    - gentoo
                    - define_roles
              pillars_from_files:
                - TEMPLATE.sls: 'pillar.example'
                - gentoo.sls: 'test/salt/pillar/gentoo.sls'
                - define_roles.sls: 'test/salt/pillar/define_roles.sls'
              state_top:
                - '*':
                    - ._mapdata
                    - TEMPLATE
            verifier: *verifier_inspec_tests_default
        inspec_suites_matrix:
          - default
          - upstart
          - gentoo
        use_libsaltcli: true
        use_tofs: true
      semrel_files:
        <<: *semrel_files_inc_map_jinja_verifier
        formula/libsaltcli.jinja:
          <<: *file__formula__libsaltcli--jinja
          alt_semrel_formula: 'TEMPLATE'
        formula/libtofs.jinja:
          <<: *file__formula__libtofs--jinja
          alt_semrel_formula: 'TEMPLATE'
        inspec/inspec.yml:
          <<: *file__inspec__inspec--yml
          alt_semrel_formula: 'TEMPLATE'
        kitchen.yml:
          <<: *file__kitchen--yml
          alt_semrel_formula: 'TEMPLATE'
        # Overrides for extra files in `*semrel_files_inc_map_jinja_verifier`
        formula/_mapdata/_mapdata.jinja:
          <<: *file__formula___mapdata___mapdata--jinja
          alt_semrel_formula: 'TEMPLATE'
        formula/_mapdata/init.sls:
          <<: *file__formula___mapdata___init--sls
          alt_semrel_formula: 'TEMPLATE'
